{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"final"},{"kind":"text","text":" "},{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PWMOut"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A PWM signal switches rapidly between on and off. The longer the output stays"},{"type":"text","text":" "},{"type":"text","text":"high, the higher the average voltage. There are two key factors: the frequency"},{"type":"text","text":" "},{"type":"text","text":"and duty cycle. "},{"type":"strong","inlineContent":[{"type":"text","text":"Frequency"}]},{"type":"text","text":" defines the speed of on-off switching."},{"type":"text","text":" "},{"type":"strong","inlineContent":[{"type":"text","text":"Duty cycle"}]},{"type":"text","text":" decides the proportion of high output in a period."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To start with, you need to initialize a pin as a PWMOut pin. A physical pin"},{"type":"text","text":" "},{"type":"text","text":"may be connected to various internal peripherals and thus serve multiple"},{"type":"text","text":" "},{"type":"text","text":"functionalities. You need to identify the specific pin using its id and specify"},{"type":"text","text":" "},{"type":"text","text":"the pin’s functionality before using it."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"PWMOut"},{"type":"text","text":" tells the pin’s usage."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"Id.PWM0A"},{"type":"text","text":" defines which pin is used. You may refer to the board’s pinout"},{"type":"text","text":" "},{"type":"text","text":"which shows all pins and their corresponding functions in a diagram."}]}]}]},{"type":"codeListing","syntax":"swift","code":["let pin = PWMOut(Id.PWM0A)"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can also set the default frequency and duty cycle of the PWM pin when"},{"type":"text","text":" "},{"type":"text","text":"initializing it."}]},{"type":"codeListing","syntax":"swift","code":["let pin = PWMOut(Id.PWM0A, frequency: 1500, dutycycle: 0.5)"]},{"style":"important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The PWM pins with same number are paired, like PWM3A and PWM3B."},{"type":"text","text":" "},{"type":"text","text":"They can only share the same frequency."}]}],"type":"aside","name":"Important"},{"anchor":"Example-1-Light-a-LED-with-a-specified-brightness","level":3,"type":"heading","text":"Example 1: Light a LED with a specified brightness"},{"type":"codeListing","syntax":"swift","code":["\/\/ Import the SwiftIO to use the related board functions.","import SwiftIO","\/\/ Import the MadBoard to decide which pin is used for the specific function.","import MadBoard","","\/\/ Initialize a PWMOut pin PWM0A with default setting.","let led = PWMOut(Id.PWM0A)","","\/\/ Setting the duty cycle to light the LED with half brightness.","led.setDutycycle(0.5)","","while true {","   sleep(ms: 1000)","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In this case, the duty cycle of PWM output affects the LED brightness, since it"},{"type":"text","text":" "},{"type":"text","text":"sets the proportion of the LED on time during a period. The frequency of"},{"type":"text","text":" "},{"type":"text","text":"the signal only changes how fast the LED turns on and off. As long as it is not"},{"type":"text","text":" "},{"type":"text","text":"too low, the flicker will be unnoticeable."}]},{"anchor":"Example-2-Make-sound-with-a-buzzer","level":3,"type":"heading","text":"Example 2: Make sound with a buzzer"},{"type":"codeListing","syntax":"swift","code":["import SwiftIO","import MadBoard","","let buzzer = PWMOut(Id.PWM0A, frequency: 0)","","\/\/ Set the frequency of PWM to decide the sound pitch.","\/\/ The duty cycle can be any value bigger than 0 to generate sound.","buzzer.set(frequency: 1500, dutycycle: 0.5)","\/\/ Keep the sound for 1s.","sleep(ms: 1000)","\/\/ Suspend the PWM output to stop the sound.","buzzer.suspend()","","while true {","   sleep(ms: 1000)","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In this example, the sound from a buzzer relates to the movement of its internal"},{"type":"text","text":" "},{"type":"text","text":"component. The faster the movement, the higher the pitch. So the frequency plays"},{"type":"text","text":" "},{"type":"text","text":"an important role."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/swiftio\/pwmout"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"The PWMOut class is used to generate periodic square waves and modulate the pulse"},{"type":"text","text":" "},{"type":"text","text":"width to get different average output."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PWMOut"}],"title":"PWMOut","roleHeading":"Class","role":"symbol","symbolKind":"class","externalID":"s:7SwiftIO6PWMOutC","modules":[{"name":"SwiftIO"}],"navigatorTitle":[{"kind":"identifier","text":"PWMOut"}]},"hierarchy":{"paths":[["doc:\/\/SwiftIO\/documentation\/SwiftIO"]]},"topicSections":[{"title":"Initializer","identifiers":["doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/init(_:frequency:dutycycle:)"]},{"title":"Setting PWM","identifiers":["doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/set(frequency:dutycycle:)","doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/set(period:pulse:)","doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/setDutycycle(_:)","doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/suspend()","doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/resume()"]},{"title":"Instance Properties","identifiers":["doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/maxFrequency","doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/minFrequency"]}],"references":{"doc://SwiftIO/documentation/SwiftIO/PWMOut/suspend()":{"role":"symbol","title":"suspend()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"suspend"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Suspends the PWM output."}],"identifier":"doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/suspend()","kind":"symbol","type":"topic","url":"\/documentation\/swiftio\/pwmout\/suspend()"},"doc://SwiftIO/documentation/SwiftIO/PWMOut/setDutycycle(_:)":{"role":"symbol","title":"setDutycycle(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"setDutycycle"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Sets the percentage of time during a period in which the output is high,"},{"type":"text","text":" "},{"type":"text","text":"from 0.0 to 1.0"}],"identifier":"doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/setDutycycle(_:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftio\/pwmout\/setdutycycle(_:)"},"doc://SwiftIO/documentation/SwiftIO/PWMOut/maxFrequency":{"role":"symbol","title":"maxFrequency","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"maxFrequency"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"}],"abstract":[{"type":"text","text":"The max frequency of PWM output."}],"identifier":"doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/maxFrequency","kind":"symbol","type":"topic","url":"\/documentation\/swiftio\/pwmout\/maxfrequency"},"doc://SwiftIO/documentation/SwiftIO/PWMOut/resume()":{"role":"symbol","title":"resume()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"resume"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Continues the PWM output."}],"identifier":"doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/resume()","kind":"symbol","type":"topic","url":"\/documentation\/swiftio\/pwmout\/resume()"},"doc://SwiftIO/documentation/SwiftIO/PWMOut/set(period:pulse:)":{"role":"symbol","title":"set(period:pulse:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"set"},{"kind":"text","text":"("},{"kind":"externalParam","text":"period"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"pulse"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Sets the period and pulse width of PWM output signal."}],"identifier":"doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/set(period:pulse:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftio\/pwmout\/set(period:pulse:)"},"doc://SwiftIO/documentation/SwiftIO":{"role":"collection","title":"SwiftIO","abstract":[{"type":"text","text":"The SwiftIO library allows you to access and control the hardware in an easy way."}],"identifier":"doc:\/\/SwiftIO\/documentation\/SwiftIO","kind":"symbol","type":"topic","url":"\/documentation\/swiftio"},"doc://SwiftIO/documentation/SwiftIO/PWMOut/minFrequency":{"role":"symbol","title":"minFrequency","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"minFrequency"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"}],"abstract":[{"type":"text","text":"The min frequency of PWM output."}],"identifier":"doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/minFrequency","kind":"symbol","type":"topic","url":"\/documentation\/swiftio\/pwmout\/minfrequency"},"doc://SwiftIO/documentation/SwiftIO/PWMOut/set(frequency:dutycycle:)":{"role":"symbol","title":"set(frequency:dutycycle:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"set"},{"kind":"text","text":"("},{"kind":"externalParam","text":"frequency"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"dutycycle"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Sets the frequency and the dutycycle of PWM output signal."}],"identifier":"doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/set(frequency:dutycycle:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftio\/pwmout\/set(frequency:dutycycle:)"},"doc://SwiftIO/documentation/SwiftIO/PWMOut/init(_:frequency:dutycycle:)":{"role":"symbol","title":"init(_:frequency:dutycycle:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"IdName","preciseIdentifier":"s:7SwiftIO6IdNameP"},{"kind":"text","text":", "},{"kind":"externalParam","text":"frequency"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"dutycycle"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Initializes a PWM output with the specified frequency and dutycycle."}],"identifier":"doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut\/init(_:frequency:dutycycle:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftio\/pwmout\/init(_:frequency:dutycycle:)"},"doc://SwiftIO/documentation/SwiftIO/PWMOut":{"role":"symbol","title":"PWMOut","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"PWMOut"}],"abstract":[{"type":"text","text":"The PWMOut class is used to generate periodic square waves and modulate the pulse"},{"type":"text","text":" "},{"type":"text","text":"width to get different average output."}],"identifier":"doc:\/\/SwiftIO\/documentation\/SwiftIO\/PWMOut","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PWMOut"}],"url":"\/documentation\/swiftio\/pwmout"}}}